<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<style>
	.box{
		width: 300px;
		height: 300px;
		background: red;
	}
</style>
<body style="height: 2000px;">
	<div class="box"></div>
</body>
</html>
<script>
 //    let box=document.querySelector('.box');
 //    /////////////DOMMousescroll  火狐浏览器的滚轮事件 up为负  down为正
	// document.addEventListener('mousewheel',function(e){
	// 	e.preventDefault();////阻止浏览器的默认行为
	// 	let w=this.offsetWidth;
	// 	///////////e.wheelDelta  获取滚轮方向
	// 	//////////D
	// 	if(e.wheelDelta==-120 || e.wheelDelta==-150){ 
	// 	 //////up为正  down为负
 //            this.style.width=`${w+20}px`;
	// 	}else if(e.wheelDelta==120 || e.wheelDelta==150){
 //             this.style.width=`${w-20}px`;
	// 	}
	// 	return false;
	// })


	// document.addEventListener('DOMMousescroll',function(e){
	// 	e.preventDefault();////阻止浏览器的默认行为
	// 	let w=this.offsetWidth;
	// 	///////////e.wheelDelta  获取滚轮方向
	// 	//////////D
	// 	if(e.wheelDelta==3){ 
	// 	 //////up为负  down为正
 //            this.style.width=`${w+20}px`;
	// 	}else if(e.wheelDelta==-3){
 //             this.style.width=`${w-20}px`;
	// 	}
	// 	return false;
	// })



	function mousewheel(element,upfn,downfn){
		element.addEventListener('mousewheel',fn);
		element.addEventListener('DOMMousescroll',fn);
		function fn(e){
			let dir=e.wheelDelta || e.detail;
			if(dir==-120 || dir ==3){
				downfn()
				///////downfn().call(element)///
			}else if(dir==120 || dir ==-3){
				upfn()
				///////upfn().call(element)///  可以解决width不能设置的问题，与下文.bind()作用相同
			}
		}
	}
</script>
<script>
	let box=document.querySelector('.box');
	mousewheel(box,function(){
		let w=this.offsetWidth;
		this.style.width=`${w+20}px`;
	}.bind(box),function(){
		let w=this.offsetWidth;
		this.style.width=`${w-20}px`;
	}.bind(box))	
</script>